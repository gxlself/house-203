(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"032e":function(n,e,t){var a=t("24fb");e=a(!1),e.push([n.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.page[data-v-8fa25ccc]{padding:%?80?% %?32?% 0}.page .h3-title[data-v-8fa25ccc]{padding:%?40?% 0;font-size:%?40?%;font-weight:700}.page .login-input[data-v-8fa25ccc]{padding:%?44?% 0 0;margin:0 0 %?80?%;color:#666;font-size:%?32?%}.page .login-input uni-input[data-v-8fa25ccc]{caret-color:#fc8800;padding:%?28?% 0}.page .login-input uni-input + uni-input[data-v-8fa25ccc]{margin:%?20?% 0 0}.page .login-btn[data-v-8fa25ccc]{font-size:%?32?%;height:%?96?%;line-height:%?96?%;border-radius:%?96?%;color:#fff;background:-webkit-linear-gradient(279deg,#ff5d50,#f7556d 20%,#dd4cb2 37%,#a24df4 60%,#6571ff 77%,#27cbfb);background:linear-gradient(171deg,#ff5d50,#f7556d 20%,#dd4cb2 37%,#a24df4 60%,#6571ff 77%,#27cbfb)}.page .find-password[data-v-8fa25ccc]{color:#eb3055;font-size:%?28?%;text-align:right;padding:%?20?% %?8?%;margin:%?10?% 0}',""]),n.exports=e},"085f":function(n,e,t){"use strict";var a,i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"header-bar gxl-b gxl-white"},[t("v-uni-text",{staticClass:"header-left",class:{back:n.back},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.navigateBack.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"title"},[n._v(n._s(n.title))]),t("v-uni-text",{staticClass:"header-right",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.rightEvent.apply(void 0,arguments)}}},[n._v(n._s(n.sure))])],1)},r=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return a}))},"1de5":function(n,e,t){"use strict";n.exports=function(n,e){return e||(e={}),n=n&&n.__esModule?n.default:n,"string"!==typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},3181:function(n,e,t){"use strict";t.r(e);var a=t("a3d1"),i=t.n(a);for(var r in a)"default"!==r&&function(n){t.d(e,n,(function(){return a[n]}))}(r);e["default"]=i.a},"494c":function(n,e,t){"use strict";t.r(e);var a=t("085f"),i=t("3181");for(var r in i)"default"!==r&&function(n){t.d(e,n,(function(){return i[n]}))}(r);t("5a30");var o,s=t("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"3f6c6a64",null,!1,a["a"],o);e["default"]=c.exports},"585d":function(n,e,t){"use strict";var a=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t("9a44"),r=a(t("494c")),o={data:function(){return{usernameFoucus:!1,passwordFoucus:!1,username:"",password:""}},components:{headerBar:r.default},onLoad:function(){},methods:{registerSubmit:function(){if(this.username)if(this.password){var n={username:this.username,password:this.password};uni.showLoading({title:"注册中~"}),(0,i.register)("/register",n).then((function(n){if(uni.hideLoading(),0===n.code){uni.showToast({title:"注册成功",icon:"loading",mask:!0}),uni.setStorageSync("token",n.data.token),uni.setStorageSync("username",n.data.username);var e=setTimeout((function(){clearTimeout(e),uni.redirectTo({url:"../index/index"})}),1e3)}else uni.showToast({icon:"none",title:n.msg})}))}else uni.showToast({title:"请设置密码",icon:"none"});else uni.showToast({title:"请设置账号",icon:"none"})}}};e.default=o},"5a30":function(n,e,t){"use strict";var a=t("7ce9"),i=t.n(a);i.a},6491:function(n,e,t){"use strict";t.r(e);var a=t("585d"),i=t.n(a);for(var r in a)"default"!==r&&function(n){t.d(e,n,(function(){return a[n]}))}(r);e["default"]=i.a},"6d36":function(n,e,t){var a=t("032e");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=t("4f06").default;i("2de28d20",a,!0,{sourceMap:!1,shadowMode:!1})},7048:function(n,e,t){"use strict";var a,i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"page gxl-white"},[t("header-bar",{attrs:{back:!0,sure:"",title:""}}),t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"h3-title"},[n._v("注册")]),t("v-uni-view",{staticClass:"login-input"},[t("v-uni-input",{staticClass:"gxl-b",class:{focus:n.usernameFoucus},attrs:{"placeholder-style":"font-size:30upx;color: #999999;padding: 0 10upx;",placeholder:"设置登录账号",type:"text"},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n.usernameFoucus=!0},blur:function(e){arguments[0]=e=n.$handleEvent(e),n.usernameFoucus=!1}},model:{value:n.username,callback:function(e){n.username=e},expression:"username"}}),t("v-uni-input",{staticClass:"gxl-b",class:{focus:n.passwordFoucus},attrs:{"placeholder-style":"font-size:30upx;color: #999999;padding: 0 10upx;",placeholder:"设置登录密码",type:"password"},on:{focus:function(e){arguments[0]=e=n.$handleEvent(e),n.passwordFoucus=!0},blur:function(e){arguments[0]=e=n.$handleEvent(e),n.passwordFoucus=!1}},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}})],1),t("v-uni-view",{staticClass:"login"},[t("v-uni-button",{staticClass:"login-btn",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.registerSubmit.apply(void 0,arguments)}}},[n._v("注册")])],1)],1)],1)},r=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return a}))},"7ce9":function(n,e,t){var a=t("b378");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=t("4f06").default;i("971e3928",a,!0,{sourceMap:!1,shadowMode:!1})},"832b":function(n,e,t){n.exports=t.p+"static/img/header-back.fd79572b.png"},"9a44":function(n,e,t){"use strict";var a=t("eca2"),i=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return uni.showLoading(),new Promise((function(i,r){var o=uni.getStorageSync("token"),s=uni.getStorageSync("username");if(!o||!s)return uni.clearStorageSync(),uni.reLaunch({url:"../../pages/login/login"}),void r(new Error("token失效"));uni.request({url:a.API_URL+n,data:e,method:t,header:{authorization:"".concat(o,",").concat(s)},success:function(n){console.log(200===n.data.status),401===n.statusCode?(uni.clearStorageSync(),uni.reLaunch({url:"../../pages/login/login"}),r(new Error("token失效"))):200===n.statusCode&&i(n.data),uni.hideLoading()},fail:function(n){r(n),uni.hideLoading()}})}))},r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return uni.showLoading(),new Promise((function(i,r){uni.request({url:a.API_URL+n,data:e,method:t,success:function(n){i(n.data),uni.hideLoading()},fail:function(n){r(n),uni.hideLoading()}})}))},o=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return new Promise((function(i,r){uni.request({url:a.API_URL+n,data:e,method:t,success:function(n){i(n.data),uni.hideLoading()},fail:function(n){r(n)}})}))},s=function n(e){var t=uni.getStorageSync("token"),i=uni.getStorageSync("username");return t&&i?new Promise((function(r,o){var s=uni.connectSocket({url:a.WS_URL+e+"?authorization=".concat(t,",").concat(i),complete:function(){}});s.onOpen((function(){var n={type:"refreshConnect",content:"重新连入"};s.send({data:JSON.stringify(n),success:function(){console.log("send success")}}),r(s)})),s.onError((function(){n(e).then((function(){}))}))})):(uni.clearStorageSync(),void uni.reLaunch({url:"../../pages/login/login"}))};n.exports={request:i,login:r,register:o,socketTask:s}},a3d1:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{}},props:{back:{type:Boolean,default:!0},sure:{type:String,default:""},title:{type:String,default:"203"}},methods:{rightEvent:function(n){this.$emit("surefun",n)},navigateBack:function(){uni.navigateBack()}}};e.default=a},b378:function(n,e,t){var a=t("24fb"),i=t("1de5"),r=t("832b");e=a(!1);var o=i(r);e.push([n.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.header-bar[data-v-3f6c6a64]{position:fixed;top:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?30?%;text-align:right;z-index:2}.header-bar .header-left[data-v-3f6c6a64], .header-bar .header-right[data-v-3f6c6a64]{width:%?150?%;height:%?80?%;line-height:%?80?%}.header-bar .back[data-v-3f6c6a64]{background:url('+o+") %?10?% 50% no-repeat;background-size:%?30?%}.header-bar .header-left[data-v-3f6c6a64]{padding-left:%?20?%}.header-bar .header-right[data-v-3f6c6a64]{color:#fc8800;padding-right:%?20?%}.header-bar .title[data-v-3f6c6a64]{color:#2a2a2a}",""]),n.exports=e},b410:function(n,e,t){"use strict";var a=t("6d36"),i=t.n(a);i.a},c2a5:function(n,e,t){"use strict";t.r(e);var a=t("7048"),i=t("6491");for(var r in i)"default"!==r&&function(n){t.d(e,n,(function(){return i[n]}))}(r);t("b410");var o,s=t("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"8fa25ccc",null,!1,a["a"],o);e["default"]=c.exports},eca2:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API_URL=e.WS_URL=void 0;var a="https://gxlchat.utools.club";e.API_URL=a;var i="wss://gxlchat.utools.club";e.WS_URL=i}}]);